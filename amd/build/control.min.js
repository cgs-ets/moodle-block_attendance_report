define ("block_attendance_report/control",["jquery","core/ajax","core/log"],function(a,b,c){'use strict';function d(a,b){var c=this;c.username=a;c.campus=b}d.prototype.main=function(){var a=this;a.getAttendanceRollmarking()};d.prototype.getAttendanceRollmarking=function(){var d=this,e=d.username,f=d.campus;b.call([{methodname:"block_attendance_report_get_attendance_rollmarking_context",args:{username:e,campus:f},done:function done(b){var c=b.html;a("[data-region=\"rm-table-container\"]").delay(2e3).fadeOut(400);a("[data-region=\"rm-table-container\"]").replaceWith(c)},fail:function fail(b){c.error("block_attendance_report_get_attendance_rollmarking_context: Unable to get context.");c.debug(b);a("[data-region=\"rm-table-container\"]").replaceWith("<p class=\"alert alert-danger\">Data not available. Please try later</p>")}}])};return{init:function(){c.debug("block_attendance_report_report: initialising controls");var a=document.getElementById("rollmarking-container"),b=a.getAttribute("data-username"),e=a.getAttribute("data-campus"),f=new d(b,e);f.main()}}});
//# sourceMappingURL=control.min.js.map
